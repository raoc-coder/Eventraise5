try{!function(){var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},r=(new e.Error).stack;r&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[r]="40b8aade-7a01-4f39-bb46-22d88c6a30ff",e._sentryDebugIdIdentifier="sentry-dbid-40b8aade-7a01-4f39-bb46-22d88c6a30ff")}()}catch(e){}(()=>{var e={};e.id=3142,e.ids=[3142],e.modules={58097:e=>{"use strict";e.exports=require("@sentry/nextjs")},47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},50852:e=>{"use strict";e.exports=require("async_hooks")},32081:e=>{"use strict";e.exports=require("child_process")},6113:e=>{"use strict";e.exports=require("crypto")},67643:e=>{"use strict";e.exports=require("diagnostics_channel")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},98188:e=>{"use strict";e.exports=require("module")},17718:e=>{"use strict";e.exports=require("node:child_process")},65714:e=>{"use strict";e.exports=require("node:diagnostics_channel")},87561:e=>{"use strict";e.exports=require("node:fs")},88849:e=>{"use strict";e.exports=require("node:http")},22286:e=>{"use strict";e.exports=require("node:https")},85690:e=>{"use strict";e.exports=require("node:inspector")},87503:e=>{"use strict";e.exports=require("node:net")},70612:e=>{"use strict";e.exports=require("node:os")},49411:e=>{"use strict";e.exports=require("node:path")},51747:e=>{"use strict";e.exports=require("node:readline")},84492:e=>{"use strict";e.exports=require("node:stream")},31764:e=>{"use strict";e.exports=require("node:tls")},47261:e=>{"use strict";e.exports=require("node:util")},24086:e=>{"use strict";e.exports=require("node:worker_threads")},65628:e=>{"use strict";e.exports=require("node:zlib")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},4074:e=>{"use strict";e.exports=require("perf_hooks")},77282:e=>{"use strict";e.exports=require("process")},76224:e=>{"use strict";e.exports=require("tty")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},71267:e=>{"use strict";e.exports=require("worker_threads")},85236:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>m});var s=t(65933),i=t(49184),a=t(74044),n=t(65582),o=t(55350),c=t(94643);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let l=(0,t(95611).Z)("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);var u=t(20981),d=t(9870),p=t(55195),x=t.n(p);function m(){let[e,r]=(0,i.useState)("loading"),[t,p]=(0,i.useState)(""),m=(0,a.useRouter)(),f=(0,a.useSearchParams)(),[h,g]=(0,i.useState)(null);return(0,i.useEffect)(()=>{},[]),(0,i.useEffect)(()=>{h&&(async()=>{let e=f.get("token_hash"),t=f.get("type"),s=f.get("access_token"),i=f.get("refresh_token"),a=f.get("next")??"/dashboard";if(console.log("Email confirmation params:",{token_hash:e,type:t,access_token:s,refresh_token:i,allParams:Object.fromEntries(f.entries())}),e&&t)try{let{error:s}=await h.auth.verifyOtp({token_hash:e,type:t});s?(console.error("Email confirmation error:",s),r("error"),p(s.message||"Failed to confirm email address.")):(r("success"),p("Email confirmed successfully! You can now sign in."),setTimeout(()=>{m.push(a)},2e3))}catch(e){console.error("Email confirmation exception:",e),r("error"),p("An unexpected error occurred during email confirmation.")}else if(s&&i)try{let{error:e}=await h.auth.setSession({access_token:s,refresh_token:i});e?(console.error("Session error:",e),r("error"),p(e.message||"Failed to confirm email address.")):(r("success"),p("Email confirmed successfully! You can now sign in."),setTimeout(()=>{m.push(a)},2e3))}catch(e){console.error("Session exception:",e),r("error"),p("An unexpected error occurred during email confirmation.")}else r("error"),p("Invalid confirmation link. Please try again."),console.error("Missing required parameters:",{token_hash:e,type:t,access_token:s,refresh_token:i})})()},[h,f,m]),s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-black to-gray-800 flex items-center justify-center p-4",children:(0,s.jsxs)(n.Zb,{className:"w-full max-w-md card-soft",children:[(0,s.jsxs)(n.Ol,{className:"text-center",children:[s.jsx("div",{className:"flex justify-center mb-4",children:(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-cyan-400 to-blue-500 rounded-lg flex items-center justify-center",children:s.jsx(c.Z,{className:"h-5 w-5 text-white"})}),s.jsx("span",{className:"text-lg font-bold bg-gradient-to-r from-cyan-400 to-orange-500 bg-clip-text text-transparent",children:"EventraiseHub"})]})}),s.jsx(n.ll,{className:"text-2xl text-white",children:"Email Confirmation"}),(0,s.jsxs)(n.SZ,{className:"text-gray-300",children:["loading"===e&&"Confirming your email address...","success"===e&&"Email confirmed successfully!","error"===e&&"Confirmation failed"]})]}),(0,s.jsxs)(n.aY,{className:"text-center",children:["loading"===e&&(0,s.jsxs)("div",{className:"flex flex-col items-center space-y-4",children:[s.jsx(l,{className:"h-8 w-8 text-cyan-400 animate-spin"}),s.jsx("p",{className:"text-gray-300",children:"Please wait while we confirm your email..."})]}),"success"===e&&(0,s.jsxs)("div",{className:"flex flex-col items-center space-y-4",children:[s.jsx(u.Z,{className:"h-12 w-12 text-green-400"}),s.jsx("p",{className:"text-green-400 font-medium",children:t}),s.jsx("p",{className:"text-gray-300 text-sm",children:"Redirecting to dashboard..."}),s.jsx(x(),{href:"/auth/login",children:s.jsx(o.z,{className:"btn-primary",children:"Sign In"})})]}),"error"===e&&(0,s.jsxs)("div",{className:"flex flex-col items-center space-y-4",children:[s.jsx(d.Z,{className:"h-12 w-12 text-red-400"}),s.jsx("p",{className:"text-red-400 font-medium",children:t}),(0,s.jsxs)("div",{className:"flex flex-col space-y-2",children:[s.jsx(x(),{href:"/auth/register",children:s.jsx(o.z,{variant:"outline",className:"btn-secondary w-full",children:"Try Again"})}),s.jsx(x(),{href:"/auth/login",children:s.jsx(o.z,{className:"btn-primary w-full",children:"Sign In"})})]})]})]})]})})}},62743:(e,r,t)=>{"use strict";let s;t.r(r),t.d(r,{$$typeof:()=>l,__esModule:()=>c,default:()=>h,generateImageMetadata:()=>m,generateMetadata:()=>x,generateViewport:()=>f});var i=t(54580),a=t(71657),n=t(58097);let o=(0,a.createProxy)(String.raw`/Users/raoc/Documents/GitHub/Eventraise/app/auth/confirm/page.tsx`),{__esModule:c,$$typeof:l}=o,u=o.default,d={...i},p="workUnitAsyncStorage"in d?d.workUnitAsyncStorage:"requestAsyncStorage"in d?d.requestAsyncStorage:void 0;s="function"==typeof u?new Proxy(u,{apply:(e,r,t)=>{let s,i,a;try{let e=p?.getStore();s=e?.headers.get("sentry-trace")??void 0,i=e?.headers.get("baggage")??void 0,a=e?.headers}catch{}return n.wrapServerComponentWithSentry(e,{componentRoute:"/auth/confirm",componentType:"Page",sentryTraceHeader:s,baggageHeader:i,headers:a}).apply(r,t)}}):u;let x=void 0,m=void 0,f=void 0,h=s},2095:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>a.ZP,__next_app__:()=>d,originalPathname:()=>u,pages:()=>l,routeModule:()=>p,tree:()=>c});var s=t(6330),i=t(43258),a=t(59571),n=t(25373),o={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);t.d(r,o);let c=["",{children:["auth",{children:["confirm",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,62743)),"/Users/raoc/Documents/GitHub/Eventraise/app/auth/confirm/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,50702)),"/Users/raoc/Documents/GitHub/Eventraise/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,39580,23)),"next/dist/client/components/not-found-error"]}],l=["/Users/raoc/Documents/GitHub/Eventraise/app/auth/confirm/page.tsx"],u="/auth/confirm/page",d={require:t,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/auth/confirm/page",pathname:"/auth/confirm",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},66966:(e,r,t)=>{Promise.resolve().then(t.bind(t,85236))},20981:(e,r,t)=>{"use strict";t.d(r,{Z:()=>s});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,t(95611).Z)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},9870:(e,r,t)=>{"use strict";t.d(r,{Z:()=>s});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,t(95611).Z)("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[2635,4487,7439,2411,7411],()=>t(2095));module.exports=s})();
//# sourceMappingURL=page.js.map