"use strict";(()=>{var e={};e.id=936,e.ids=[936],e.modules={517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},3685:e=>{e.exports=require("http")},5687:e=>{e.exports=require("https")},5477:e=>{e.exports=require("punycode")},2781:e=>{e.exports=require("stream")},7310:e=>{e.exports=require("url")},9796:e=>{e.exports=require("zlib")},5757:(e,r,t)=>{t.r(r),t.d(r,{headerHooks:()=>b,originalPathname:()=>f,patchFetch:()=>g,requestAsyncStorage:()=>p,routeModule:()=>l,serverHooks:()=>d,staticGenerationAsyncStorage:()=>h,staticGenerationBailout:()=>m});var a={};t.r(a),t.d(a,{GET:()=>s});var o=t(5419),i=t(9108),n=t(9678),c=t(2409),u=t(8070);async function s(e){let{searchParams:r,origin:t}=new URL(e.url),a=r.get("code"),o=r.get("token_hash"),i=r.get("type"),n=r.get("access_token"),s=r.get("refresh_token"),l=r.get("next")??"/dashboard";console.log("Auth callback params:",{code:a,token_hash:o,type:i,access_token:n,refresh_token:s,allParams:Object.fromEntries(r.entries())});let p="https://yxzypekwyuopbanroobr.supabase.co",h="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inl4enlwZWt3eXVvcGJhbnJvb2JyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTg0NjI3NDksImV4cCI6MjA3NDAzODc0OX0.37JNu4brGevL3VDd9In3vxSFY49Jw6CtMZw5SZ6uaEA";if(!p||!h)return console.error("Missing Supabase environment variables"),u.Z.redirect(`${t}/auth/login?error=configuration_error`);let d=(0,c.eI)(p,h);try{if(a){let{error:e}=await d.auth.exchangeCodeForSession(a);if(e)return console.error("Auth callback error:",e),u.Z.redirect(`${t}/auth/login?error=auth_callback_error`);return u.Z.redirect(`${t}${l}`)}if(o&&i){let{error:e}=await d.auth.verifyOtp({token_hash:o,type:i});if(e)return console.error("Email confirmation error:",e),u.Z.redirect(`${t}/auth/confirm?error=confirmation_failed`);return u.Z.redirect(`${t}/auth/confirm?success=true`)}{if(!n||!s)return console.error("No valid authentication parameters found"),u.Z.redirect(`${t}/auth/login?error=invalid_parameters`);let{error:e}=await d.auth.setSession({access_token:n,refresh_token:s});if(e)return console.error("Session error:",e),u.Z.redirect(`${t}/auth/confirm?error=session_failed`);return u.Z.redirect(`${t}${l}`)}}catch(e){return console.error("Auth callback exception:",e),u.Z.redirect(`${t}/auth/login?error=auth_callback_exception`)}}let l=new o.AppRouteRouteModule({definition:{kind:i.x.APP_ROUTE,page:"/auth/callback/route",pathname:"/auth/callback",filename:"route",bundlePath:"app/auth/callback/route"},resolvedPagePath:"/Users/raoc/Documents/GitHub/Eventraise/app/auth/callback/route.ts",nextConfigOutput:"",userland:a}),{requestAsyncStorage:p,staticGenerationAsyncStorage:h,serverHooks:d,headerHooks:b,staticGenerationBailout:m}=l,f="/auth/callback/route";function g(){return(0,n.patchFetch)({serverHooks:d,staticGenerationAsyncStorage:h})}}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),a=r.X(0,[638,206,409],()=>t(5757));module.exports=a})();